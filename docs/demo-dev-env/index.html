<!doctype html>
<html lang="en">
    <head>
        <!-- Required meta tags -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="Web Development with Ruby on Rails Tutorial 2019">
<meta name="author" content="Scott Fleming">

<link rel="shortcut icon" type="image/png" href="/rails-demos-n-deets-2020/assets/img/favicon.png">

<title>Setting Up the Development Environment | Ruby on Rails ⇨ Demos 'n' Deets</title>

        <!-- Bootstrap CSS -->
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

<!-- Custom styles for this site -->
<link href="/rails-demos-n-deets-2020/assets/css/site.css" rel="stylesheet">

    </head>
    <body>
        


<header>
    <nav class="navbar navbar-expand-md navbar-light bg-light">
        <a class="navbar-brand" href="/rails-demos-n-deets-2020/"><img src="/rails-demos-n-deets-2020/assets/img/brand.png" style="height: 3.5rem"></a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExampleDefault" aria-controls="navbarsExampleDefault" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarsExampleDefault">
            <ul class="navbar-nav mr-auto">
                <li class="nav-item ">
                    <a class="nav-link" href="/rails-demos-n-deets-2020/">Home</a>
                </li>
                <li class="nav-item ">
                    <a class="nav-link" href="/rails-demos-n-deets-2020/about/">About</a>
                </li>
                </ul>
        </div>
    </nav>
</header>

        <main role="main">

            <div class="container mt-4">
                <h1 id="setting-up-the-development-environment">Setting Up the Development Environment</h1>

<p>In this demonstration, I will show how to set up the development environment used throughout the demos. We will use a <a href="https://en.wikipedia.org/wiki/Unix-like">Unix-like</a> environment, regardless of the operating system being run. As a consequence, some of the setup will be different based on your computer’s operating system (OS):</p>

<ul>
  <li>
    <p><span class="badge badge-success" style="font-size: 1rem">Windows ⇨</span> As Windows is not a Unix-based OS, we will use the <a href="https://en.wikipedia.org/wiki/Windows_Subsystem_for_Linux">Windows Subsystem for Linux (WSL)</a> to provide an <a href="https://en.wikipedia.org/wiki/Ubuntu">Ubuntu Linux</a> environment (which is Unix-like).</p>
  </li>
  <li>
    <p><span class="badge badge-info" style="font-size: 1rem">macOS ⇨</span> As <a href="https://en.wikipedia.org/wiki/MacOS">macOS</a> is already a Unix-based OS, we will simply use it as-is.</p>
  </li>
  <li>
    <p><span class="badge badge-danger" style="font-size: 1rem">Linux ⇨</span> Although Linux is already a Unix-like OS, there are numerous different distros, which can complicate things. The demos were written with <a href="https://en.wikipedia.org/wiki/Ubuntu">Ubuntu Linux</a> in mind; however, other <a href="https://en.wikipedia.org/wiki/Debian">Debian</a>-based distros may also work.</p>
  </li>
</ul>

<p>In the text below, we use badges similar to the ones above to denote which instructions apply to which OS. Following this initial setup demo, OS-specific instructions will be much fewer are farther between.</p>

<h2 id="1-unix-like-environment-and-terminal-app">1. Unix-Like Environment and Terminal App</h2>

<p>As mentioned above, the demos will use a Unix-like development environment, although the exact environment will vary by OS. The main interface for such environments are <a href="https://en.wikipedia.org/wiki/Terminal_emulator">terminal applications</a>, which will similarly vary by OS.</p>

<ul>
  <li>
    <p><span class="badge badge-success" style="font-size: 1rem">Windows ⇨</span> Set up the <a href="https://en.wikipedia.org/wiki/Windows_Subsystem_for_Linux">Windows Subsystem for Linux (WSL)</a> and install the <a href="https://en.wikipedia.org/wiki/Windows_Terminal">Windows Terminal</a> app. To do so, follow the steps in this demo: <a href="/rails-demos-n-deets-2020/demo-wsl/">Setting Up Windows Subsystem for Linux (WSL) and Windows Terminal</a>.</p>
  </li>
  <li>
    <p><span class="badge badge-info" style="font-size: 1rem">macOS ⇨</span> No action needed. macOS is Unix based and ships with a <a href="https://en.wikipedia.org/wiki/Terminal_(macOS)">Terminal</a> app by default.</p>
  </li>
  <li>
    <p><span class="badge badge-danger" style="font-size: 1rem">Linux ⇨</span> No action needed. Linux is Unix based and generally comes with a terminal app (with many more to choose from). We recommend <a href="https://en.wikipedia.org/wiki/GNOME_Terminal">GNOME Terminal</a>, because we have tested and which worked well for the demos.</p>
  </li>
</ul>

<h2 id="2-package-manager">2. Package Manager</h2>

<p>Modern full-stack development platforms have numerous library and tool dependencies. To manage these dependencies, we will use a <a href="https://en.wikipedia.org/wiki/List_of_software_package_management_systems">package management system</a>, which will vary by OS.</p>

<ul>
  <li>
    <p><span class="badge badge-success" style="font-size: 1rem">Windows/Linux ⇨</span> No action needed. Ubuntu ships with the <a href="https://en.wikipedia.org/wiki/APT_(software)">APT</a> package manager by default.</p>
  </li>
  <li>
    <p><span class="badge badge-info" style="font-size: 1rem">macOS ⇨</span> Install the <a href="https://en.wikipedia.org/wiki/Homebrew_(package_management_software)">Homebrew</a> package manager by following these steps:</p>

    <ol>
      <li>
        <p>Launch the Terminal application and enter this command:</p>

        <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> ruby <span class="nt">-e</span> <span class="s2">"</span><span class="si">$(</span>curl <span class="nt">-fsSL</span> https://raw.githubusercontent.com/Homebrew/install/master/install<span class="si">)</span><span class="s2">"</span>
</code></pre></div>        </div>
      </li>
      <li>
        <p>When it asks you to install <a href="https://en.wikipedia.org/wiki/Xcode">Xcode</a> CommandLine Tools, say “yes”.</p>
      </li>
    </ol>
  </li>
</ul>

<h2 id="3-chrome">3. Chrome</h2>

<p><a href="https://en.wikipedia.org/wiki/Google_Chrome">Google Chrome</a> will be the web browser of choice for the demos. Although the demo web app should be compatible with any modern web browser, Chrome has certain development features that we will use and that are not necessarily common to all browsers.</p>

<ul>
  <li>
    <p><span class="badge badge-success" style="font-size: 1rem">Windows/Linux ⇨</span> Download and install the latest stable version from the Google Chrome website: <a href="https://www.google.com/chrome/">https://www.google.com/chrome/</a>.</p>
  </li>
  <li>
    <p><span class="badge badge-info" style="font-size: 1rem">macOS ⇨</span> Install using Homebrew by entering this command:</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  brew cask <span class="nb">install </span>google-chrome
</code></pre></div>    </div>
  </li>
</ul>

<h2 id="4-vs-code">4. VS Code</h2>

<p><a href="https://en.wikipedia.org/wiki/Visual_Studio_Code">Visual Studio Code (VS Code)</a> will be the code editor of choice for the demos. It should look and work essentially the same on all OSs; however, the installation instructions vary somewhat by OS. (Note that VS Code is <strong>not</strong> the same thing as the <a href="https://en.wikipedia.org/wiki/Microsoft_Visual_Studio">Microsoft Visual Studio</a> IDE.)</p>

<h3 id="41-vs-code-installation">4.1. VS Code Installation</h3>

<ul>
  <li>
    <p><span class="badge badge-success" style="font-size: 1rem">Windows/Linux ⇨</span> Download and install the latest stable version from the VS Code website: <a href="https://code.visualstudio.com/">https://code.visualstudio.com/</a>.</p>
  </li>
  <li>
    <p><span class="badge badge-info" style="font-size: 1rem">macOS ⇨</span> Install using Homebrew by entering this command:</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  brew cask <span class="nb">install </span>visual-studio-code
</code></pre></div>    </div>
  </li>
</ul>

<h3 id="42-vs-code-extensions">4.2. VS Code Extensions</h3>

<ul>
  <li><span class="badge badge-primary" style="font-size: 1rem">All ⇨</span> Once you have VS Code installed, add the following extensions:
    <ul>
      <li><em>Code Spell Checker</em></li>
      <li><em>Markdown PDF</em></li>
      <li><em>Markdown Preview Github Styling</em></li>
      <li><em>markdownlint</em></li>
      <li><em>Simple Ruby ERB</em></li>
      <li>(Windows users only) <em>Remote - WSL</em></li>
    </ul>
  </li>
</ul>

<h2 id="5-z-shell">5. Z Shell</h2>

<p><a href="https://en.wikipedia.org/wiki/Z_shell">Z Shell</a> is the Unix shell of choice for the demos. It has a number of productivity features not found in other shells. We will use the <a href="https://en.wikipedia.org/wiki/Z_shell#Oh_My_Zsh">Oh My Zsh</a> Z Shell configuration manager, which provides a plugin and theme infrastructure for Z Shell. In addition to the features Oh My Zsh provides by default, we will also add a custom theme.</p>

<h3 id="51-install-z-shell">5.1. Install Z Shell</h3>

<ul>
  <li>
    <p><span class="badge badge-success" style="font-size: 1rem">Windows/Linux ⇨</span> Install Z Shell using APT by entering the following commands:</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nb">sudo </span>apt update
  <span class="nb">sudo </span>apt <span class="nb">install </span>zsh
</code></pre></div>    </div>
  </li>
  <li>
    <p><span class="badge badge-info" style="font-size: 1rem">macOS ⇨</span> Install Z Shell using Homebrew by entering the following command:</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  brew <span class="nb">install </span>zsh
</code></pre></div>    </div>
  </li>
</ul>

<h3 id="52-make-z-shell-the-default">5.2. Make Z Shell the Default</h3>

<ul>
  <li>
    <p><span class="badge badge-success" style="font-size: 1rem">Windows/Linux ⇨</span> Make Z Shell the default shell by following these steps.</p>

    <ol>
      <li>
        <p>Set Z Shell as the default shell by entering the following command, except replacing <code class="highlighter-rouge">homer</code> with your username:</p>

        <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nb">sudo </span>chsh homer <span class="nt">-s</span> /usr/bin/zsh
</code></pre></div>        </div>
      </li>
      <li>
        <p>Quit and relaunch the terminal app to make the new settings take effect.</p>
      </li>
    </ol>
  </li>
  <li>
    <p><span class="badge badge-info" style="font-size: 1rem">macOS ⇨</span> Make Z Shell the default shell by following these steps.</p>

    <ol>
      <li>
        <p>Set Z Shell as the default shell by entering the following command, except replacing <code class="highlighter-rouge">homer</code> with your username:</p>

        <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nb">sudo </span>chpass <span class="nt">-s</span> /usr/local/bin/zsh homer
</code></pre></div>        </div>
      </li>
      <li>
        <p>Quit and relaunch the terminal app to make the new settings take effect.</p>
      </li>
    </ol>
  </li>
</ul>

<h3 id="53-install-oh-my-zsh">5.3. Install Oh My Zsh</h3>

<ul>
  <li>
    <p><span class="badge badge-primary" style="font-size: 1rem">All ⇨</span> Install Oh My Zsh by entering the following command:</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  sh <span class="nt">-c</span> <span class="s2">"</span><span class="si">$(</span>curl <span class="nt">-fsSL</span> https://raw.github.com/ohmyzsh/ohmyzsh/master/tools/install.sh<span class="si">)</span><span class="s2">"</span>
</code></pre></div>    </div>
  </li>
</ul>

<h3 id="54-add-custom-theme">5.4. Add Custom Theme</h3>

<ul>
  <li>
    <p><span class="badge badge-primary" style="font-size: 1rem">All ⇨</span> Add our custom Z Shell theme by following these steps.</p>

    <ol>
      <li>
        <p>Download the custom theme by entering this command:</p>

        <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> curl <span class="nt">-fsSL</span> <span class="nt">--output</span> ~/.oh-my-zsh/custom/themes/sdflem.zsh-theme https://human-se.github.io/rails-demos-n-deets-2020/resources/sdflem.zsh-theme
</code></pre></div>        </div>
      </li>
      <li>
        <p>Open the Z Shell configuration file <code class="highlighter-rouge">.zshrc</code> in VS Code by entering this command:</p>

        <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> code ~/.zshrc
</code></pre></div>        </div>
      </li>
      <li>
        <p>Configure Z Shell to use the custom theme by locating the <code class="highlighter-rouge">ZSH_THEME</code> setting in the <code class="highlighter-rouge">.zshrc</code> file and editing the setting as follows:</p>

        <div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code> ZSH_THEME="sdflem"
</code></pre></div>        </div>

        <p>Don’t forget to save the file!</p>
      </li>
      <li>
        <p>Quit and relaunch the terminal app to make the new settings take effect. You should now see a command prompt that looks similar to this (only with your username and hostname):</p>

        <div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code> [homer@springfield:~/]
 % ▊
</code></pre></div>        </div>

        <p>Note that, for convenience, the prompt includes our Unix username (<code class="highlighter-rouge">homer</code>), the hostname of our machine (<code class="highlighter-rouge">springfield</code>), and the current working directory (<code class="highlighter-rouge">~/</code>).</p>
      </li>
    </ol>
  </li>
</ul>

<h2 id="6-pgadmin-4">6. pgAdmin 4</h2>

<p><a href="https://en.wikipedia.org/wiki/PostgreSQL#pgAdmin">pgAdmin 4</a> is a database viewer and administration tool for PostgreSQL databases. This application will allow us to inspect our backend databases from a web browser.</p>

<ul>
  <li>
    <p><span class="badge badge-success" style="font-size: 1rem">Windows/Linux ⇨</span> Download and install the latest stable version from the pgAdmin website: <a href="https://www.pgadmin.org/download/">https://www.pgadmin.org/download/</a>).</p>
  </li>
  <li>
    <p><span class="badge badge-info" style="font-size: 1rem">macOS ⇨</span> Install using Homebrew by entering this command:</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  brew cask <span class="nb">install </span>pgadmin4
</code></pre></div>    </div>
  </li>
  <li>
    <p><span class="badge badge-primary" style="font-size: 1rem">All ⇨</span> Once you have installed pgAdmin 4, confirm that the install was successful by launching the pgAdmin 4 app. A pgAdmin page should open in your web browser. The first time you launch pgAdmin, you will be prompted to create a password.</p>

    <p><strong>Caution!</strong> Don’t forget your pgAdmin password, because you will need it to run pgAdmin in the future.</p>
  </li>
</ul>

<h2 id="7-git">7. Git</h2>

<p><a href="https://en.wikipedia.org/wiki/Git">Git</a> is a version-control system that we will use to manage different versions of the demo project as it evolves.</p>

<h3 id="71-git-installation">7.1. Git Installation</h3>

<ul>
  <li>
    <p><span class="badge badge-success" style="font-size: 1rem">Windows/Linux ⇨</span> Git may or may not already be installed. Check if the git package is installed by running this command:</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  git <span class="nt">--version</span>
</code></pre></div>    </div>

    <p>If Git is not installed (resulting in an error message instead of a version number), install it by running:</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nb">sudo </span>apt <span class="nb">install </span>git
</code></pre></div>    </div>
  </li>
  <li>
    <p><span class="badge badge-info" style="font-size: 1rem">macOS ⇨</span> Git should already be installed, because macOS ships with it.</p>
  </li>
</ul>

<h3 id="72-git-configuration">7.2. Git Configuration</h3>

<ul>
  <li>
    <p><span class="badge badge-primary" style="font-size: 1rem">All ⇨</span> Once you have confirmed that Git is installed, set your user Git configuration settings by creating a <code class="highlighter-rouge">.gitconfig</code> file as follows:</p>

    <ol>
      <li>
        <p>Create an empty <code class="highlighter-rouge">.gitconfig</code> file in your home directory by running this command:</p>

        <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nb">touch</span> ~/.gitconfig
</code></pre></div>        </div>
      </li>
      <li>
        <p>Open this file in VS Code by entering the this command:</p>

        <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> code ~/.gitconfig
</code></pre></div>        </div>
      </li>
      <li>
        <p>Edit the contents of the file as follows, except using your own name and email:</p>

        <div class="language-ini highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="c"># This is Git's per-user configuration file.
</span> <span class="nn">[user]</span>
         <span class="py">name</span> <span class="p">=</span> <span class="s">Homer Simpson</span>
         <span class="py">email</span> <span class="p">=</span> <span class="s">homer@email.com</span>

 <span class="nn">[core]</span>
         <span class="py">autocrlf</span> <span class="p">=</span> <span class="s">false</span>
 <span class="nn">[color]</span>
         <span class="py">ui</span> <span class="p">=</span> <span class="s">true</span>
</code></pre></div>        </div>

        <p>Don’t forget to save the file!</p>
      </li>
    </ol>
  </li>
</ul>

<h2 id="8-github">8. GitHub</h2>

<p><a href="https://en.wikipedia.org/wiki/GitHub">GitHub</a> is a web-based Git repository hosting service. We will use it (in conjunction with Git) to distribute different versions of the demo project as it evolves.</p>

<h3 id="81-github-account-registration">8.1. GitHub Account Registration</h3>

<p>Since GitHub is a web-based service, we will need to register an account via GitHub’s web interface.</p>

<ul>
  <li>
    <p><span class="badge badge-primary" style="font-size: 1rem">All ⇨</span> Set up your GitHub account by following these steps.</p>

    <ol>
      <li>
        <p>Register an account at <a href="https://github.com/">https://github.com/</a> (if you don’t already have).</p>

        <p><strong>Caution!</strong> Be sure that your GitHub account is set up with the same email address that you use in your <code class="highlighter-rouge">.gitconfig</code> file. The emails must match in order for GitHub to associate your commits with your GitHub user profile.</p>

        <p>Also, be sure not to lose your GitHub username and password.</p>
      </li>
    </ol>
  </li>
</ul>

<h3 id="82-key-based-authentication">8.2. Key-Based Authentication</h3>

<p>Since GitHub will require us to authenticate every time we upload changes to our project, and we upload changes frequently, entering our password every time can be a hassle. <a href="https://help.github.com/en/github/authenticating-to-github/connecting-to-github-with-ssh">SSH key authentication</a> enables Git to automatically authenticate us using secure cryptographic keys in lieu of our password.</p>

<ul>
  <li>
    <p><span class="badge badge-primary" style="font-size: 1rem">All ⇨</span> Set up SSH key-based authentication with your Github account by following these steps.</p>

    <ol>
      <li>
        <p>Generate a new SSH key using this command (replacing the email address with your own):</p>

        <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> ssh-keygen <span class="nt">-t</span> rsa <span class="nt">-b</span> 4096 <span class="nt">-C</span> <span class="s2">"homer@email.com"</span>
</code></pre></div>        </div>

        <p>Again, be sure to use the email associated with your Github account. Also, you should accept all the default options for that command by hitting ENTER without entering anything.</p>
      </li>
      <li>
        <p>Add the key you just generated to your Github account by copying the output of the following command:</p>

        <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nb">cat</span> ~/.ssh/id_rsa.pub
</code></pre></div>        </div>

        <p>Then, go to <a href="https://github.com/settings/keys">https://github.com/settings/keys</a> in your browser. Make sure you are logged into Github. Click the button “New SSH key”, enter a title, and paste the output of the command in the key field. Click “Add SSH key”.</p>
      </li>
      <li>
        <p>Check the SSH key has been setup correctly by entering this command:</p>

        <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> ssh <span class="nt">-T</span> git@github.com
</code></pre></div>        </div>

        <p>You should get a message like:</p>

        <div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code> Hi homer! You've successfully authenticated, but GitHub does not provide shell access.
</code></pre></div>        </div>
      </li>
    </ol>
  </li>
</ul>

<h2 id="9-nodejs-and-yarn">9. Node.js and Yarn</h2>

<p>Modern web <a href="https://en.wikipedia.org/wiki/Front_and_back_ends">frontend</a> code makes heavy use of <a href="https://en.wikipedia.org/wiki/JavaScript">JavaScript (JS)</a>, and as a consequence, there are numerous commonly used JS libraries and packages. <a href="https://en.wikipedia.org/wiki/Node.js">Node.js</a> and <a href="https://en.wikipedia.org/wiki/Yarn_(software)">Yarn</a> provide tools for managing JS packages</p>

<ul>
  <li>
    <p><span class="badge badge-success" style="font-size: 1rem">Windows/Linux ⇨</span> Install Node.js and Yarn by running the following commands:</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nb">sudo </span>apt <span class="nb">install </span>curl
  curl <span class="nt">-sL</span> https://deb.nodesource.com/setup_12.x | <span class="nb">sudo</span> <span class="nt">-E</span> bash -
  curl <span class="nt">-sS</span> https://dl.yarnpkg.com/debian/pubkey.gpg | <span class="nb">sudo </span>apt-key add -
  <span class="nb">echo</span> <span class="s2">"deb https://dl.yarnpkg.com/debian/ stable main"</span> | <span class="nb">sudo tee</span> /etc/apt/sources.list.d/yarn.list

  <span class="nb">sudo </span>apt update
  <span class="nb">sudo </span>apt <span class="nb">install </span>zlib1g-dev build-essential libssl-dev libreadline-dev libyaml-dev libsqlite3-dev sqlite3 libxml2-dev libxslt1-dev libcurl4-openssl-dev software-properties-common libffi-dev nodejs yarn
</code></pre></div>    </div>
  </li>
  <li>
    <p><span class="badge badge-info" style="font-size: 1rem">macOS ⇨</span> Install Node.js and Yarn by running the following commands:</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  brew <span class="nb">install </span>node
  brew <span class="nb">install </span>yarn
</code></pre></div>    </div>
  </li>
</ul>

<h2 id="10-rvm">10. RVM</h2>

<p><a href="https://en.wikipedia.org/wiki/Ruby_Version_Manager">Ruby Version Manager (RVM)</a> is a tool for managing different versions of the <a href="https://en.wikipedia.org/wiki/Ruby_(programming_language)">Ruby Programming Language</a> and different Ruby gemsets. A gemset is the collection of <a href="https://en.wikipedia.org/wiki/RubyGems">Ruby gems</a> (i.e., Ruby libraries and toolkits) used by a Ruby-based software project. We will use RVM to carefully control the version of Ruby and the associated Ruby gems that the demo project uses.</p>

<h3 id="101-rvm-dependencies">10.1. RVM Dependencies</h3>

<ul>
  <li>
    <p><span class="badge badge-success" style="font-size: 1rem">Windows/Linux ⇨</span> First, install several of RVM’s dependencies by entering this command:</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nb">sudo </span>apt <span class="nb">install </span>libgdbm-dev libncurses5-dev automake libtool bison libffi-dev
</code></pre></div>    </div>
  </li>
  <li>
    <p><span class="badge badge-info" style="font-size: 1rem">macOS ⇨</span> First, install an RVM installer dependency by entering this command:</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  brew <span class="nb">install </span>gnupg
</code></pre></div>    </div>
  </li>
</ul>

<h3 id="102-rvm-installation">10.2. RVM Installation</h3>

<ul>
  <li>
    <p><span class="badge badge-primary" style="font-size: 1rem">All ⇨</span> Install RVM by running the following commands:</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  gpg <span class="nt">--keyserver</span> hkp://pool.sks-keyservers.net <span class="nt">--recv-keys</span> 409B6B1796C275462A1703113804BB82D39DC0E3 7D2BAF1CF37B13E2069D6956105BD0E739499BDB
  curl <span class="nt">-sSL</span> https://get.rvm.io | bash <span class="nt">-s</span> stable
  <span class="nb">source</span> ~/.rvm/scripts/rvm
</code></pre></div>    </div>
  </li>
</ul>

<h2 id="11-ruby-on-rails">11. Ruby on Rails</h2>

<p><a href="https://en.wikipedia.org/wiki/Ruby_on_Rails">Ruby on Rails (aka Rails)</a> is a popular web-development framework and toolkit. It will provide the main platform upon which we construct the demo app.</p>

<h3 id="111-ruby">11.1. Ruby</h3>

<p>As the name suggests, Rails is built using the <a href="https://en.wikipedia.org/wiki/Ruby_(programming_language)">Ruby Programming Language</a>. Thus, Rails requires a Ruby interpreter to be installed.</p>

<ul>
  <li>
    <p><span class="badge badge-primary" style="font-size: 1rem">All ⇨</span> Install the latest version of Ruby by running each of the following commands:</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  rvm <span class="nb">install </span>2.6.5
  rvm use 2.6.5@global <span class="nt">--default</span> <span class="nt">--create</span>
  ruby <span class="nt">-v</span>
</code></pre></div>    </div>

    <p>If Ruby has successfully installed, the output of <code class="highlighter-rouge">ruby -v</code> should be something like:</p>

    <div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  ruby 2.6.5p114 (2019-10-01 revision 67812) [x86_64-linux]
</code></pre></div>    </div>
  </li>
</ul>

<h3 id="112-bundler-gem">11.2. Bundler Gem</h3>

<p><a href="https://bundler.io/">Bundler</a> is a Ruby gem management tool (which is itself a gem) that Rails projects use to manage their gem dependencies.</p>

<ul>
  <li>
    <p><span class="badge badge-primary" style="font-size: 1rem">All ⇨</span> Globally install the Bundler gem by running this command:</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  rvm @global <span class="k">do </span>gem <span class="nb">install </span>bundler
</code></pre></div>    </div>
  </li>
  <li>
    <p><span class="badge badge-success" style="font-size: 1rem">Windows ⇨</span> If the previous command times out because RVM cannot connect to <code class="highlighter-rouge">rubygems.org</code>, try restarting the computer and rerunning the command. If it still doesn’t work, the problem may be with IPv6 connections to <code class="highlighter-rouge">rubygems.org</code>. Force IPv4 connections to <code class="highlighter-rouge">rubygems.org</code> by following these steps <strong>and then trying the command again</strong>:</p>

    <ol>
      <li>
        <p>Edit the /etc/gai.conf file by running:</p>

        <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nb">sudo </span>nano /etc/gai.conf
</code></pre></div>        </div>
      </li>
      <li>
        <p>Uncomment lines to match the following:</p>

        <div class="language-conf highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="c">#For sites which prefer IPv4 connections change the last line to
</span> <span class="n">precedence</span> ::<span class="n">ffff</span>:<span class="m">0</span>:<span class="m">0</span>/<span class="m">96</span> <span class="m">100</span>
 ...
 <span class="c">#    For sites which use site-local IPv4 addresses behind NAT there is
</span> <span class="c">#    the problem that even if IPv4 addresses are preferred they do not
</span> <span class="c">#    have the same scope and are therefore not sorted first.  To change
</span> <span class="c">#    this use only these rules:
</span> <span class="c">#
</span> <span class="n">scopev4</span> ::<span class="n">ffff</span>:<span class="m">169</span>.<span class="m">254</span>.<span class="m">0</span>.<span class="m">0</span>/<span class="m">112</span>  <span class="m">2</span>
 <span class="n">scopev4</span> ::<span class="n">ffff</span>:<span class="m">127</span>.<span class="m">0</span>.<span class="m">0</span>.<span class="m">0</span>/<span class="m">104</span>    <span class="m">2</span>
 <span class="n">scopev4</span> ::<span class="n">ffff</span>:<span class="m">0</span>.<span class="m">0</span>.<span class="m">0</span>.<span class="m">0</span>/<span class="m">96</span>       <span class="m">14</span>
</code></pre></div>        </div>
      </li>
      <li>
        <p>Enter Ctrl-X to save and exit.</p>
      </li>
    </ol>
  </li>
</ul>

<h3 id="113-rails-gem">11.3. Rails Gem</h3>

<p>Rails is packaged as a gem that must be installed in order to create, run, etc. Rails projects.</p>

<ul>
  <li>
    <p><span class="badge badge-primary" style="font-size: 1rem">All ⇨</span> Globally install Rails by running this command:</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  rvm @global <span class="k">do </span>gem <span class="nb">install </span>rails
</code></pre></div>    </div>

    <p>Verify that Rails was installed successfully by running this command:</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  rails <span class="nt">-v</span>
</code></pre></div>    </div>

    <p>It should display version 6.0.2.1.</p>
  </li>
</ul>

<h2 id="12-postgres">12. Postgres</h2>

<p><a href="https://en.wikipedia.org/wiki/PostgreSQL">Postgres</a> is a popular database management system. The demo Rails project will use Postgres as its database <a href="https://en.wikipedia.org/wiki/Front_and_back_ends">backend</a>.</p>

<ul>
  <li>
    <p><span class="badge badge-success" style="font-size: 1rem">Windows/Linux ⇨</span> Install Postgres by following these steps:</p>

    <ol>
      <li>
        <p>Install the Postgres packages by running:</p>

        <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nb">sudo </span>apt <span class="nt">-y</span> <span class="nb">install </span>postgresql-12 postgresql-client-12 libpq-dev
</code></pre></div>        </div>

        <p>If the <code class="highlighter-rouge">postgresql-12</code> package cannot be found, follow these additional steps, <strong>and then try the above command again</strong>:</p>

        <ol>
          <li>
            <p>Add the repository by running:</p>

            <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nb">sudo tee</span> /etc/apt/sources.list.d/pgdg.list <span class="o">&lt;&lt;</span><span class="no">END</span><span class="sh">
 deb http://apt.postgresql.org/pub/repos/apt/ bionic-pgdg main
</span><span class="no"> END
</span></code></pre></div>            </div>

            <p>Be careful when you copy and paste the above command that you do not get an extra space before the <code class="highlighter-rouge">END</code> line.</p>
          </li>
          <li>
            <p>Get the signing key and import it by running:</p>

            <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> wget https://www.postgresql.org/media/keys/ACCC4CF8.asc
 <span class="nb">sudo </span>apt-key add ACCC4CF8.asc
</code></pre></div>            </div>
          </li>
          <li>
            <p>Fetch the metadata from the new repo by running:</p>

            <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nb">sudo </span>apt update
</code></pre></div>            </div>
          </li>
        </ol>
      </li>
      <li>
        <p>Start the Postgres service by running:</p>

        <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nb">sudo </span>service postgresql start
</code></pre></div>        </div>

        <p>For Windows/WSL users, the <code class="highlighter-rouge">postgresql</code> service will generally stay on, but you may sometimes discover that it has been halted (e.g., rebooting Windows may cause the service to halt). To restart the service, simply rerun the above command. If in doubt, you can check the status of the service by running this command:</p>

        <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nb">sudo </span>service postgresql status
</code></pre></div>        </div>

        <p>Additionally, you can halt the service by running this command:</p>

        <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nb">sudo </span>service postgresql stop
</code></pre></div>        </div>
      </li>
      <li>
        <p>Set up a <code class="highlighter-rouge">postgres</code> user with permission to create databases (which must have the same name as your Ubuntu user) by running the following command (replacing <code class="highlighter-rouge">homer</code> with your Unix username).</p>

        <p><strong>Important!</strong> The username must match your Unix username exactly.</p>

        <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nb">sudo</span> <span class="nt">-u</span> postgres createuser homer <span class="nt">-s</span> <span class="nt">-d</span>
</code></pre></div>        </div>
      </li>
      <li>
        <p>Set a password for your Postgres username by running:</p>

        <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nb">sudo</span> <span class="nt">-u</span> postgres psql
</code></pre></div>        </div>

        <p>This command will launch a <code class="highlighter-rouge">postgres</code> command prompt. At the prompt, enter the following command (substituting <code class="highlighter-rouge">homer</code> with your Unix username and <code class="highlighter-rouge">password1</code> with a password of your choosing):</p>

        <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> ALTER USER homer WITH PASSWORD <span class="s1">'password1'</span><span class="p">;</span>
</code></pre></div>        </div>

        <p><strong>Caution!</strong> Don’t forget the semicolon on the end, or the command will fail silently.</p>
      </li>
      <li>
        <p>Enter <code class="highlighter-rouge">\q</code> to exit the <code class="highlighter-rouge">postgres</code> prompt.</p>
      </li>
    </ol>
  </li>
  <li>
    <p><span class="badge badge-info" style="font-size: 1rem">macOS ⇨</span> Install Postgres by following these steps:</p>

    <ol>
      <li>
        <p>Install the Postgres packages using Homebrew by running this command:</p>

        <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> brew <span class="nb">install </span>postgresql
</code></pre></div>        </div>
      </li>
      <li>
        <p>Update the Postgres security settings by running the following command:</p>

        <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> curl <span class="nt">-fsSL</span> <span class="nt">--output</span> /usr/local/var/postgres/pg_hba.conf https://human-se.github.io/rails-demos-n-deets-2020/resources/pg_hba.conf
</code></pre></div>        </div>
      </li>
      <li>
        <p>Start the Postgres service by running:</p>

        <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> brew services start postgresql
</code></pre></div>        </div>

        <p>The service will now generally stay on, even after reboots. If you ever need to halt the service, you can run this command:</p>

        <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> brew services stop postgresql
</code></pre></div>        </div>
      </li>
      <li>
        <p>Set a password for your Postgres username (same as your Unix username) by running:</p>

        <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> psql postgres
</code></pre></div>        </div>

        <p>This command will launch a <code class="highlighter-rouge">postgres</code> command prompt. At the prompt, enter the following command (substituting <code class="highlighter-rouge">homer</code> with your Unix username and <code class="highlighter-rouge">password1</code> with a password of your choosing):</p>

        <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> ALTER USER homer WITH PASSWORD <span class="s1">'password1'</span><span class="p">;</span>
</code></pre></div>        </div>

        <p><strong>Caution!</strong> Don’t forget the semicolon on the end, or the command will fail silently.</p>
      </li>
      <li>
        <p>Enter <code class="highlighter-rouge">\q</code> to exit the <code class="highlighter-rouge">postgres</code> prompt.</p>
      </li>
    </ol>
  </li>
  <li>
    <p><span class="badge badge-primary" style="font-size: 1rem">All ⇨</span> <strong>Caution!</strong> Don’t forget the password you entered for your Postgres user. You will need it later to access the database using pgAdmin.</p>
  </li>
</ul>

<h2 id="13-conclusion">13. Conclusion</h2>

<p>Having completed all of the above development environment setup, the next step will be to test that it’s all working by running an existing Rails-based web app.</p>

<nav aria-label="Page navigation">
    <ul class="pagination justify-content-center">
        
        
            
            <li class="page-item"><a class="page-link" href="/rails-demos-n-deets-2020/demo-run-app/">Next: Running a Rails App</a></li>
        
    </ul>
</nav>


            </div> <!-- /.container -->

        </main>

        <footer class="container">
            <hr style="margin-top: 2rem;">
            <p style="text-align: center;">
                &copy; <a href="/about/">The Authors</a> 2020
            </p>
        </footer>

        <!-- Optional JavaScript -->
<!-- jQuery first, then Popper.js, then Bootstrap JS -->
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>

    </body>
</html>
