<!doctype html>
<html lang="en">
    <head>
        <!-- Required meta tags -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="Web Development with Ruby on Rails Tutorial 2019">
<meta name="author" content="Scott Fleming">

<link rel="shortcut icon" type="image/png" href="/rails-demos-n-deets-2020/assets/img/favicon.png">

<title>Setting Up the Development Environment (Mac users) | Ruby on Rails ⇨ Demos 'n' Deets</title>

        <!-- Bootstrap CSS -->
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

<!-- Custom styles for this site -->
<link href="/rails-demos-n-deets-2020/assets/css/site.css" rel="stylesheet">

    </head>
    <body>
        


<header>
    <nav class="navbar navbar-expand-md navbar-light bg-light">
        <a class="navbar-brand" href="/rails-demos-n-deets-2020/"><img src="/rails-demos-n-deets-2020/assets/img/brand.png" style="height: 3.5rem"></a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarsExampleDefault" aria-controls="navbarsExampleDefault" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarsExampleDefault">
            <ul class="navbar-nav mr-auto">
                <li class="nav-item ">
                    <a class="nav-link" href="/rails-demos-n-deets-2020/">Home</a>
                </li>
                <li class="nav-item ">
                    <a class="nav-link" href="/rails-demos-n-deets-2020/about/">About</a>
                </li>
                </ul>
        </div>
    </nav>
</header>

        <main role="main">

            <div class="container mt-4">
                <h1 id="setting-up-the-development-environment-mac-users">Setting Up the Development Environment (Mac users)</h1>

<p>In this demonstration, I will show you how to setup the development environment used in the rest of the demos.</p>

<h2 id="1-install-homebrew-if-you-have-not-already">1. Install Homebrew (if you have not already)</h2>

<ol>
  <li>
    <p>Open the Terminal application and run:</p>

    <div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp"> ruby -e "$</span><span class="o">(</span>curl <span class="nt">-fsSL</span> https://raw.githubusercontent.com/Homebrew/install/master/install<span class="o">)</span><span class="s2">"
</span></code></pre></div>    </div>

    <p>When it asks you to install XCode CommandLine Tools, say yes.</p>
  </li>
</ol>

<h2 id="2-install-additional-software">2. Install Additional Software</h2>

<ol>
  <li>
    <p>Install the <em>Visual Studio Code</em> (VS Code) editor (<a href="https://code.visualstudio.com/">https://code.visualstudio.com/</a>). VS Code will be the code editor of choice for these demos. Use the latest stable version.</p>
  </li>
  <li>
    <p>Additionally, within VS Code, install the following five extensions: (1) <em>Code Spell Checker</em>, (2) <em>Markdown PDF</em>, (3) <em>Markdown Preview Github Styling</em>, (4) <em>markdownlint</em>, and (5) <em>Simple Ruby ERB</em>.</p>
  </li>
  <li>
    <p>Download and install <em>pgAdmin</em> 4 (<a href="https://www.pgadmin.org/download/">https://www.pgadmin.org/download/</a>), a database viewer and administration tool for PostgreSQL databases. This application will allow you to view the database running on your VM from a web browser on your host.</p>

    <p>Confirm that the install was successful by launching the pgAdmin 4 app on your host OS. A pgAdmin page should open in your web browser.</p>

    <p>The first time you launch pgAdmin, you will be prompted to create a password. Don’t forget it, because you will need it to run pgAdmin in the future!</p>
  </li>
</ol>

<h2 id="3-setup-github-account-and-credentials">3. Setup Github Account and Credentials</h2>

<ol>
  <li>
    <p>Register an account at <a href="https://github.com/">https://github.com/</a> (if you don’t already have one). Git and GitHub will be used for version control and collaboration in these demos. Be sure not to lose your GitHub username and password.</p>
  </li>
  <li>
    <p>Check that you have the git package installed by running:</p>

    <div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go"> git --version
</span></code></pre></div>    </div>
  </li>
  <li>
    <p>Set your global Git configuration settings by creating a <code class="highlighter-rouge">.gitconfig</code> file by running:</p>

    <div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go"> vi ~/.gitconfig
</span></code></pre></div>    </div>

    <p>The contents of the file should look something like Figure x, containing your name, the email you used to register your Github account, and a couple other options that are quality of life improvements for this class. For example, mine is:</p>

    <div class="language-ini highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="c"># This is Git's per-user configuration file.
</span> <span class="nn">[user]</span>
         <span class="py">name</span> <span class="p">=</span> <span class="s">Katie Bridson</span>
         <span class="py">email</span> <span class="p">=</span> <span class="s">kbridson@memphis.edu</span>

 <span class="nn">[core]</span>
         <span class="py">autocrlf</span> <span class="p">=</span> <span class="s">false</span>
 <span class="nn">[color]</span>
         <span class="py">ui</span> <span class="p">=</span> <span class="s">true</span>
</code></pre></div>    </div>

    <p>Save the file (by hitting ESC and typing <code class="highlighter-rouge">:x</code> if using the Vim editor).</p>
  </li>
  <li>
    <p>Setup SSH authentication with your Github account by generating a new SSH key with the following:</p>

    <div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go"> ssh-keygen -t rsa -b 4096 -C "kbridson@memphis.edu"
</span></code></pre></div>    </div>

    <p>Make sure to use the email associated with your Github account. Also, you should accept all the default options for that command by hitting ENTER without entering anything.</p>
  </li>
  <li>
    <p>Add the key you just generated to your Github account by copying the output of the following command:</p>

    <div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go"> cat ~/.ssh/id_rsa.pub
</span></code></pre></div>    </div>

    <p>Then, go to <code class="highlighter-rouge">&lt;https://github.com/settings/keys&gt;</code> in your browser. Make sure you are logged into Github. Click the button “New SSH key”, enter a title, and paste the output of the command in the key field. Click “Add SSH key”.</p>
  </li>
  <li>
    <p>Check the SSH key has been setup correctly by running:</p>

    <div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go"> ssh -T git@github.com
</span></code></pre></div>    </div>

    <p>You should get a message like:</p>

    <div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go"> Hi kbridson! You've successfully authenticated, but GitHub does not provide shell access.
</span></code></pre></div>    </div>
  </li>
</ol>

<h2 id="4-install-ruby-and-rails">4. Install Ruby and Rails</h2>

<ol>
  <li>
    <p>Install the Node.js and Yarn repositories by running each of the following commands:</p>

    <div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go"> brew install yarn
</span></code></pre></div>    </div>
  </li>
  <li>
    <p>Install RVM by running each of the following commands:</p>

    <div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go"> brew install gnupg

 gpg --keyserver hkp://keys.gnupg.net --recv-keys 409B6B1796C275462A1703113804BB82D39DC0E3 7D2BAF1CF37B13E2069D6956105BD0E739499BDB

 \curl -sSL https://get.rvm.io | bash -s stable --ruby

 source ~/.rvm/scripts/rvm
</span></code></pre></div>    </div>
  </li>
  <li>
    <p>Install the latest version of Ruby by running each of the following commands:</p>

    <div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go"> rvm install 2.6.5
 rvm use 2.6.5 --default
 ruby -v
</span></code></pre></div>    </div>

    <p>If Ruby has successfully installed, the output of <code class="highlighter-rouge">ruby -v</code> should be something like:</p>

    <div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go"> ruby 2.6.5p114 (2019-10-01 revision 67812) [x86_64-darwin18]
</span></code></pre></div>    </div>
  </li>
  <li>
    <p>Globally install the Bundler gem to manage project gemsets by running:</p>

    <div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go"> rvm @global do gem install bundler
</span></code></pre></div>    </div>
  </li>
  <li>
    <p>Globally install Rails by running:</p>

    <div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go"> rvm @global do gem install rails
</span></code></pre></div>    </div>

    <p>If Rails has installed correctly, running <code class="highlighter-rouge">rails -v</code> should show version 6.0.2.1.</p>
  </li>
</ol>

<h2 id="5-install-postgres">5. Install Postgres</h2>

<ol>
  <li>
    <p>Install the Postgres packages by running:</p>

    <div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go"> brew install postgresql
</span></code></pre></div>    </div>
  </li>
  <li>
    <p>Start the Postgres service by running:</p>

    <div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go"> brew services start postgresql
</span></code></pre></div>    </div>
  </li>
</ol>

<h2 id="7-running-a-rails-app">7. Running a Rails App</h2>

<ol>
  <li>
    <p>From your terminal application, create a folder <code class="highlighter-rouge">workspace</code> in your home directory by running:</p>

    <div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go"> mkdir ~/workspace
</span></code></pre></div>    </div>

    <p>This folder is where all the Rails projects in these demos will go.</p>
  </li>
  <li>
    <p>Change directory to your <code class="highlighter-rouge">workspace</code> folder by running:</p>

    <div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go"> cd ~/workspace
</span></code></pre></div>    </div>
  </li>
  <li>
    <p>Use Git to download an example project by running:</p>

    <div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go"> git clone https://github.com/memphis-cs/rails-6-test-app.git
</span></code></pre></div>    </div>

    <p>Run the command <code class="highlighter-rouge">ll</code> to see a new <code class="highlighter-rouge">rails-6-test-app</code> folder should be visible inside the <code class="highlighter-rouge">workspace</code> folder.</p>
  </li>
  <li>
    <p>Change directory (using the <code class="highlighter-rouge">cd</code> command) to the <code class="highlighter-rouge">rails-6-test-app</code> folder. When you run this command, RVM should print a message like the following, which lets you know it’s working. Note that this message appears only after the <em>first</em> time you <code class="highlighter-rouge">cd</code> into the project.</p>

    <div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code> ruby-2.6.3 - #gemset created /home/vagrant/.rvm/gems/ruby-2.6.3@quiz-maker
 ruby-2.6.3 - #generating quiz-maker wrappers.........
</code></pre></div>    </div>

    <p><span class="ml-2 text-nowrap"><small><a class="text-muted" data-toggle="collapse" href="#moreDetails3-5" role="button" aria-expanded="false" aria-controls="moreDetails3-5">Troubleshoot: no messages appear…▼</a></small></span></p>

    <div class="collapse" id="moreDetails3-5">
 <p class="text-muted mr-3 ml-3">
 If no messages from RVM appears, then something is wrong. A common problem is that the terminal application is not configured to run as a "login" shell. This issue seems to come up the most for Linux users, or users of more exotic terminal applications. Typically, the solution can be found in the terminal application's settings. Restarting the terminal application after fixing the setting will likely be necessary.
 </p>
 </div>
  </li>
  <li>
    <p>Download and install the gems (Ruby libraries) for this Rails project by entering the following command:</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> bundle <span class="nb">install</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>Download and install all the JavaScript dependencies for this Rails project by entering the following command:</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> yarn <span class="nb">install</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>Open the <code class="highlighter-rouge">rails-6-test-app</code> in VSCode by running the following command in the <code class="highlighter-rouge">rails-6-test-app</code> directory:</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> code <span class="nb">.</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p>From VSCode, create a copy of the <code class="highlighter-rouge">.env.sample</code> file named <code class="highlighter-rouge">.env</code>. Edit the <code class="highlighter-rouge">.env</code> file to use your username and password. This will need to be set correctly for every Rails project you work on. This file should look something like:</p>

    <div class="language-text highlighter-rouge"><div class="highlight"><pre class="highlight"><code> export DB_USERNAME=kbridson
 export DB_PASSWORD=
</code></pre></div>    </div>
  </li>
  <li>
    <p>Wipe and reset the database to be used by this Rails app by entering the following command:</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> rails db:reset
</code></pre></div>    </div>
  </li>
  <li>
    <p>The project comes with some automated tests. Run them by entering the following command:</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> rails <span class="nb">test</span>
</code></pre></div>    </div>

    <p>You should see that all the tests passed.</p>
  </li>
  <li>
    <p>Start up the Rails web app server by entering the following command (those are zeros):</p>

    <div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code> rails s <span class="nt">-b</span> 0.0.0.0
</code></pre></div>    </div>

    <p>You should see that the server has started without error. Note that this command will not “return” like other commands—that is, the command prompt will not reappear until you halt the server process (covered below).</p>
  </li>
  <li>
    <p>Now open the URL <a href="http://localhost:3000">http://localhost:3000</a> in a web browser. You should see a “Welcome to Quiz Maker” web page with a list of quizzes.</p>
  </li>
  <li>
    <p>Verify that the Postgres DBMS running on the server is accessible and that the app’s database is configured as expected.</p>

    <ol>
      <li>
        <p>Add a Server with the following configuration:</p>

        <ul>
          <li>
            <p>Name: <code class="highlighter-rouge">SoftwareEng</code></p>
          </li>
          <li>
            <p>Hostname/address: <code class="highlighter-rouge">localhost</code></p>
          </li>
          <li>
            <p>Port: <code class="highlighter-rouge">5432</code></p>
          </li>
          <li>
            <p>User: <code class="highlighter-rouge">kbridson</code></p>
          </li>
          <li>
            <p>Password:</p>
          </li>
        </ul>

        <p>The user and password must match your Postgres and Mac user.</p>
      </li>
      <li>
        <p>In the left sidebar, go navigate as follows:</p>

        <p><code class="highlighter-rouge">Servers</code> &gt; <code class="highlighter-rouge">SoftwareEng</code> &gt; <code class="highlighter-rouge">Databases</code> &gt; <code class="highlighter-rouge">default_development</code> &gt; <code class="highlighter-rouge">Schemas</code> &gt; <code class="highlighter-rouge">public</code> &gt; <code class="highlighter-rouge">Tables</code></p>

        <p>Right click on <code class="highlighter-rouge">quizzes</code> and go to <code class="highlighter-rouge">View/Edit Data</code> &gt; <code class="highlighter-rouge">All Rows</code>.</p>

        <p>You should see the Data Output panel in the bottom right corner of the screen showing information about all the quizzes in the application.</p>
      </li>
    </ol>
  </li>
  <li>
    <p>Further test out the web app by logging in and creating a quiz:</p>

    <ol>
      <li>
        <p>Follow the <code class="highlighter-rouge">Sign In</code> link at the top right and log in with the email <code class="highlighter-rouge">alice@email.com</code> and the password <code class="highlighter-rouge">password</code>.</p>
      </li>
      <li>
        <p>Click the <code class="highlighter-rouge">Create New Quiz</code> link and enter a title and description for a quiz.</p>
      </li>
      <li>
        <p>In your pgAdmin browser window, you can see the new quiz in the database by hitting the refresh button (F5 or the lightning bolt button).</p>
      </li>
      <li>
        <p>Add questions to the quiz by clicking to <code class="highlighter-rouge">Edit Quiz</code> link.</p>
      </li>
    </ol>
  </li>
</ol>

            </div> <!-- /.container -->

        </main>

        <footer class="container">
            <hr style="margin-top: 2rem;">
            <p style="text-align: center;">
                &copy; <a href="/about/">The Authors</a> 2019
            </p>
        </footer>

        <!-- Optional JavaScript -->
<!-- jQuery first, then Popper.js, then Bootstrap JS -->
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>

    </body>
</html>
